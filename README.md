# school

第四部分
第13章以太坊开发框架、工具和服务
第14章以太坊Dapp开发
第15章基于区块链的电商开发平台案例

第13章以太坊开发框架、工具和服务

13.1 开发框架
13.1.1 Truffle 

truffle是一个使用Javascript开发的开源框架，用于开发、测试以太坊的框架和数字资产通道，旨在使以太坊开发人员更方便和轻松地开发智能合约。使用truffle，可以实现：❑内置智能合约编译、连接、部署和二进制管理。❑快速开发的智能合约和测试。❑编写脚本可扩展、部署和移植的框架。❑网络管理和部署合约到以太公网或者私有网络。❑采用ERC190标准，使用EthPM和NPM进行包装管理。❑交互式控制台，用于直接操作智能合约。❑可配置和构建流水线，支持持续集成。❑外部脚本运行器，用于在truffle环境中执行脚本。对于以太坊开发者来说，truffle提供了一套工具集，可以方便地开发测试，持续集成、构建软件迭代开发流水线，是一个提升开发效率的利器。8.4.1 安装truffle

13。1。2
OpenZeppelin


13.2 开发工具
13.2.1 Remix 环境工具
Remix是以太坊平台下开发测试智能合约的环境工具，以前称为Browser Solidity，是一款基于Web浏览器的IDE，允许你编写Solidity智能合约，然后部署和运行智能合约。Remix提供两种方式的IDE智能合约开发环境，一种是本地部署Remix；另外一种更简单，直接使用官方的在线Remix。

13。2。2 以太坊测试网络

目前以太坊官方提供了两种网络，一种是生产环境网络，即是以太坊主网MainNet；另外一种被称为以太坊公共测试网络TestNet。主网一般支持全球访问，性能和安全性较高，但是交易时需要消耗真金白银，不适合开发者频繁测试验证；而测试网部署范围相对较小，消耗的以太币可以从测试网官方申请使用，没有实际的应用成本。
RinkebyRinkeby也是以太坊官方提供的测试网络，不过使用的是Clique PoA共识机制（https://github.com/ethereum/EIPs/issues/225）。与Kovan不同，以太坊团队提供了Rinkeby的PoA共识机制说明文档，理论上任何以太坊钱包都可以根据这个说明文档支持Rinkeby测试网络。Rinkeby的矿工按照PoA共识根据选举产生，按照可配置的时间片轮流产生区块，一般使用Go语言开发的geth客户端作为节点运行软件。Rinkeby提供了一个dashboard（https://www.rinkeby.io/#stats），可以呈现测试网络的基本情况，如图8-10所示。[插图]图8-10 Rinkeby网络情况Rinkeby测试用ETH可以从地址https://faucet.rinkeby.io/处申请获取。
  
13.3 服务

13.3.1 信息平台 Etherscn
Etherscan作为区块链以太坊领域大名鼎鼎的信息查看平台，基本是每个以太坊开发测试人员和爱好者都必会使用的工具。Etherscan首先作为以太坊网络的区块浏览器。其提供了一个搜索引擎，允许用户查找、确认和验证在以太坊区块链上发生的交易。另外Etherscan还提供一组负载均衡的强大API服务，可用于构建中心化应用程序或用于以太坊区块链信息的数据馈送。Etherscan更是信息平台，提供了对以太坊上进行的交易、资源和相关信息的统计。8.6.1 以太坊浏览器Etherscan可提供非常全面的以太坊信息查询功能，只要输入账户或者合约地址、区块、交易Hash、代币名词、ENS名等，就能找到相关信息。登录网站主页https://etherscan.io，就可以看到以太坊网络当前最基本的信息，包括区块高度、Hash率、当前网络TPS、最近两周的历史交易量统计，如图8-35所示。在区块里面，还包含了挖该区块的矿工、区块生成时间、区块里面的交易等。[插图]图8-35 Etherscan基本信息呈现在search中输入一个账号地址，便可以查询出该账号下全部输入和输出的交易列表，单击每一个交易，可以查看交易的

13.3.2 域名注册 E N S

13.3.3 钱包



14。1。。1
这一章我们将要探讨去中心化应用（Decentralized Application, DApp）。从以太坊早期开始，创始人的愿景就远比“智能合约”宏伟：重塑现有的互联网，进而为去中心化应用创造一个新的世界，这个新的世界被形象地称为web3。智能合约仅仅是使应用程序的控制逻辑和支付方法去中心化的手段之一。web3 DApp囊括了去中心化应用的方方面面，包括存储、消息传递以及名字解析等（见图12-DApp是一个大部分或者全部去中心化的应用。我们来考虑一下去中心化应用的所有方面：· 后端软件（应用逻辑）· 前端软件· 数据存储· 消息通信· 名称解析

13.3.4 NFT 交易平台


8.1 MetaMask事实证明，与以太坊区块链互动并不直观或者说并不友好。普通网页浏览器无法写入区块链，像Mist这样的区块链浏览器，对于刚接触以太坊网络的人来说，使用起来可能会很不习惯。而这里介绍的MetaMask可能是使用起来最简单的Ethereum Dapps了。MetaMask是一个Ether钱包，它还允许用户在DApp之间，通过智能合约进行交互。MetaMask无须下载区块链或安装任何软件，只需将其安装为Google Chrome或者FireBox的扩展程序即可。8.1.1 MetaMask安装MetaMask作为一个浏览器插件，可以集成在浏览器之中使用。以Chrome浏览器为例，可以从Chrome Store中下载插件，如图8-1所示。[插图]图8-1 下载Chrome浏览器的MetaMask插件如图8-2所示，单击“添加扩展名”确认并添加MetaMask，最后，在Chrome浏览器右上角显示的小狐狸图标，就是在Chrome上集成的MetaMask插件。[插图]图8-2 安装MetaMask插件8.1.2 MetaMask作为Web钱包MetaMask可以作为Web端轻量级钱包，用于
etaMask内置了一个模拟的web3js库，通过HTTP的RPC接口来链接以太坊兼容网络，如图8-6。除了主网络外，还有Ropsten、Kovan等公共测试网络，甚至是本地的私有网络。[插图]图8-6 MetaMask链接的以太坊网络MetaMask对接的以太坊，完成的操作主要还是与数字资产相关的。单击钱包头面的“Buy”按钮，进入购买Eth页面，如图8-7所示。[插图]图8-7 购买以太币MetaMask支持两种购买Eth的方式，一种是从Coinbase中购买，一种是通过ShapeShift购买。Coinbase是美国第一家持有正规牌照的比特币交易所，可以用美元购买比特币，但是只对美国人开放；ShapeShift是一个无须账户的数字货币兑换平台，可以将你自己的虚拟货币直接兑换为Eth。ShapeShift支持将BTC、1ST、BTS等多种虚拟货币兑换成Eth。除了买比特币外，还可以在不同的以太坊账户间进行转账操作。单击钱包首页的“Send”按钮，进入发送Eth的页面，如图8-8所示。[插图]图8-8 转账以太币设置收款方和转账数目，然后会进入Gas设置界面，如图8-9所示。[插图]图8-9 设置Gas费用 
   					
